<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ESP32 Data</title>
</head>
<body>
    <h1>ESP32 Sensor and GPS Data</h1>
    <div id="data">
        <!-- Data will be displayed here -->
    </div>

    <script>
        async function fetchData() {
            const firebaseURL = "https://tranquil-c2029-default-rtdb.firebaseio.com/";
            const sensorDataEndpoint = ${firebaseURL}sensorData.json;
            const gpsDataEndpoint = ${firebaseURL}gpsData.json;

            try {
                const [sensorResponse, gpsResponse] = await Promise.all([
                    fetch(sensorDataEndpoint),
                    fetch(gpsDataEndpoint)
                ]);

                const sensorData = await sensorResponse.json();
                const gpsData = await gpsResponse.json();

                document.getElementById('data').innerHTML = `
                    <h2>Sensor Data</h2>
                    <p>Distance1: ${sensorData.distance1 || 'N/A'}</p>
                    <p>Distance2: ${sensorData.distance2 || 'N/A'}</p>
                    <p>Distance3: ${sensorData.distance3 || 'N/A'}</p>
                    
                    <h2>GPS Data</h2>
                    <p>Latitude: ${gpsData.latitude || 'N/A'}</p>
                    <p>Longitude: ${gpsData.longitude || 'N/A'}</p>
                `;
            } catch (error) {
                console.error('Error fetching data:', error);
            }
        }

        fetchData();
    </script>
</body>
</html>